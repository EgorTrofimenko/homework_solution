# Лабораторная работа 6
## Разминка

Шаг 1. Создайте файл sample.txt с произвольным содержимым. Например, введите следующие строки:
```
echo -e "яблоко\nбанан\nгруша\nяблоко\nапельсин\nбанан" > sample.txt
```

Шаг 2. Используйте команду sort для сортировки строк в файле:
```
sort sample.txt
```

Вывод будет следующим:
```
апельсин
банан
банан
груша
яблоко
яблоко
```

Для сохранения результата в новый файл используйте:
```
sort sample.txt > sorted.txt
```

Шаг 3. Примените команду uniq для удаления повторов из отсортированного файла:
```
uniq sorted.txt
```

Результат:
```
апельсин
банан
груша
яблоко
```

Сохраните результат в новый файл:
```
uniq sorted.txt > unique.txt
```

Шаг 4. Используйте uniq -c, чтобы добавить количество повторений перед каждой строкой:
```
uniq -c sorted.txt
```

Вывод:
```
      1 апельсин
      2 банан
      1 груша
      2 яблоко
```

Сохраните результат в файл counts.txt:
```
uniq -c sorted.txt > counts.txt
```

Шаг 5. Теперь попробуем объединить команды sort и uniq в один конвейер. Это позволит избежать создания промежуточных файлов:
```
sort sample.txt | uniq -c
```

Вывод будет таким же, как в шаге 4.

Для сохранения результата в файл используйте tee:
```
sort sample.txt | uniq -c | tee pipeline_output.txt
```

Шаг 6. Создайте скрипт example.sh:
```
#!/bin/bash
echo "Это стандартный вывод"
echo "Это сообщение об ошибке" >&2
```

Запустите скрипт, перенаправив стандартный вывод и ошибки в разные файлы:
```
./example.sh > output.log 2> error.log
```

Теперь у вас есть два файла:


- output.log с содержимым:
```
Это стандартный вывод
```

- error.log с содержимым:
```
Это сообщение об ошибке
```

После выполнения разминки вы готовы к выполнению основного задания!
## Задание лабораторной работы


1. Создайте текстовый файл data.txt с произвольным содержимым, например:
   ```
   user1,25,developer
   user2,30,designer
   user3,22,manager
   user4,35,developer
   user5,29,developer
   ```

2. Напишите команду для фильтрации строк из файла data.txt, содержащих слово "developer", и сохраните результат в файл developers.txt.

3. Вычислите средний возраст пользователей, указанных в файле developers.txt.  
   - Используйте команды cut, awk и bc для обработки данных.

4. Создайте скрипт error_filter.sh, который:  
   - Проверяет существование файла, переданного в качестве первого аргумента.  
   - Выводит сообщение об ошибке в стандартный поток ошибок, если файл не найден.  
   - В противном случае, выводит строки, содержащие слово, переданное вторым аргументом.  

5. Организуйте выполнение скрипта с перенаправлением стандартного вывода и потока ошибок в отдельные файлы.

6. Выполните следующие действия:  
   - Отсортируйте строки из файла developers.txt по возрасту пользователей в порядке убывания.  
   - Удалите строки с дублирующимися именами.  
   - Выведите результат в файл unique_sorted.txt.

7. Создайте конвейер для поиска и подсчета строк в data.txt, содержащих следующие слова:  
   - "developer"  
   - "manager"  
   - "designer"  
   Используйте конвейер для вывода результатов в файл role_counts.txt в формате:  
   ```
   developer: N
   manager: M
   designer: L
   ```

## Как успешно сдать работу?
Создать свой репозиторий из шаблона этого. Как это делается - "Use this template" -> "Create a new repository" и сделайте его public.

Находясь уже в своем репозитории - создайте новый файл формата .md и там оформляйте отчет. В отчете опишите все шаги которые вы делали, чтобы получить финальный результат работы.

Что вам нужно знать, чтобы успешно защитить работу: что такое управление вводом/выводом, как оно работает, что такое конвейерная обработка, как использовать конвейерную обработку в Bash

## Ресурсы для подготовки:

1. [Официальная документация Bash](https://www.gnu.org/software/bash/manual/bash.html)
2. [Advanced Bash-Scripting Guide](https://tldp.org/LDP/abs/html/)
3. [Google](https://google.com)
